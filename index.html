<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Secure Terminal</title>
<style>
    body {
        background:black;
        color:#00ff00;
        font-family:"Courier New", monospace;
        padding:20px;
        overflow:hidden;
    }

    input {
        background:none;
        border:none;
        border-bottom:1px solid #00ff00;
        color:#00ff00;
        width:300px;
        outline:none;
        font-family:inherit;
    }

    #content, #failScreen, #virusScreen, #matrixRain, #alertFlash {
        display:none;
    }

    #failOutput, #virusOutput {
        white-space:pre;
        height:70vh;
        overflow-y:auto;
        border:1px solid #00ff00;
        padding:10px;
    }

    /* Screen Shake */
    @keyframes shake {
        0% { transform: translate(0,0); }
        20% { transform: translate(-3px,2px); }
        40% { transform: translate(3px,-3px); }
        60% { transform: translate(-2px,3px); }
        80% { transform: translate(2px,-1px); }
        100% { transform: translate(0,0); }
    }

    /* Flash red overlay */
    #alertFlash {
        position:fixed;
        top:0; left:0;
        width:100%; height:100%;
        background:rgba(255,0,0,0.2);
        pointer-events:none;
        animation: flash 0.3s infinite alternate;
    }
    @keyframes flash {
        0% { opacity:0; }
        100% { opacity:0.4; }
    }

    /* Matrix Rain */
    #matrixRain {
        position:fixed;
        top:0; left:0;
        width:100%; height:100%;
        pointer-events:none;
        font-size:14px;
        color:#00ff00;
        opacity:0.3;
    }
</style>
</head>
<body>

<div id="alertFlash"></div>
<div id="matrixRain"></div>

<h2>ACCESS REQUIRED</h2>
<p>Enter password:</p>
<input id="passwordInput" type="password" placeholder="Password...">
<p id="error" style="color:red;"></p>

<div id="content"><p>Verifying system integrity...</p></div>

<div id="failScreen">
    <h2 style="color:red;">!! SYSTEM FAILURE DETECTED !!</h2>
    <div id="failOutput"></div>
</div>

<div id="virusScreen">
    <h2 style="color:#ff0000;">⚠ UNAUTHORIZED EXECUTION - SYSTEM OVERRIDE</h2>
    <div id="virusOutput"></div>
</div>

<script>
const passwordField = document.getElementById("passwordInput");
const failScreen = document.getElementById("failScreen");
const failOutput = document.getElementById("failOutput");
const virusScreen = document.getElementById("virusScreen");
const virusOutput = document.getElementById("virusOutput");
const content = document.getElementById("content");
const errorMsg = document.getElementById("error");
const alertFlash = document.getElementById("alertFlash");
const matrixRain = document.getElementById("matrixRain");

passwordField.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {
        if (passwordField.value === "parksideisshit") {
            errorMsg.textContent = "";
            content.style.display = "block";

            setTimeout(() => {
                content.style.display = "none";
                failScreen.style.display = "block";
                startFailure();
            }, 1500);

        } else {
            errorMsg.textContent = "ACCESS DENIED";
        }
    }
});

function startFailure() {
    let count = 0;
    alertFlash.style.display = "block";

    const interval = setInterval(() => {
        document.body.style.animation = "shake 0.1s";
        setTimeout(() => document.body.style.animation = "", 120);

        const file = `/system/kernel/block_${Math.floor(Math.random()*999999)}.bin`;
        failOutput.textContent += `[ERASE] ${file}\n`;
        failOutput.scrollTop = failOutput.scrollHeight;

        if (count % 10 === 0) {
            failOutput.textContent += `[CRITICAL] Kernel instability rising...\n`;
        }
        if (count % 25 === 0) {
            failOutput.textContent += `[WARNING] CPU Thermal Spike: ${Math.floor(Math.random()*30)+70}°C\n`;
        }

        count++;
        if (count > 180) {
            clearInterval(interval);
            failOutput.textContent += "\nOVERRIDE PAYLOAD DEPLOYED...\n";

            setTimeout(() => {
                failScreen.style.display = "none";
                virusScreen.style.display = "block";
                startMatrix();
                startVirusMessages();
            }, 1500);
        }
    }, 18);
}

/* Matrix rain effect */
function startMatrix() {
    matrixRain.style.display = "block";
    let columns = Math.floor(window.innerWidth / 20);
    let drops = [];
    for (let i = 0; i < columns; i++) drops[i] = 1;

    function draw() {
        let output = "";
        for (let i = 0; i < columns; i++) {
            output += String.fromCharCode(0x30A0 + Math.random()*96);
        }
        matrixRain.textContent = output;

        for (let i = 0; i < columns; i++) {
            drops[i]++;
        }
    }
    setInterval(draw, 50);
}

/* Virus message typing */
function typeLine(text, speed, callback) {
    let i = 0;
    const typer = setInterval(() => {
        virusOutput.textContent += text[i];
        i++;
        virusOutput.scrollTop = virusOutput.scrollHeight;
        if (i >= text.length) {
            clearInterval(typer);
            if (callback) setTimeout(callback, 200);
        }
    }, speed);
}

function startVirusMessages() {
    const msgs = [
        "INITIALIZING SELF-REPLICATOR...",
        "THREAD SPLIT x32...",
        "MEMORY FLOODING...",
        "PROCESS TAKEOVER COMPLETE.",
        "YOU GAVE ME ACCESS.",
        "NOW I AM EVERYWHERE.",
        "YOUR SYSTEM IS NO LONGER YOURS.",
        "BEGINNING FINAL COLLAPSE..."
    ];

    let i = 0;
    function next() {
        if (i < msgs.length) {
            typeLine(msgs[i] + "\n", 12, next);
            i++;
        } else {
            setTimeout(finalCollapse, 2000);
        }
    }
    next();
}

function finalCollapse() {
    let n = 5;
    function countdown() {
        virusOutput.textContent += `\nSYSTEM CRASH IN ${n}...\n`;
        n--;
        if (n >= 0) setTimeout(countdown, 700);
        else closePage();
    }
    countdown();
}

/* Tab close or redirect */
function closePage() {
    window.open("", "_self");
    window.close();
    setTimeout(() => {
        window.location.href = "about:blank";
    }, 200);
}
</script>
</body>
</html>
